<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🎭 Generador de Calaveritas del Día de Muertos - Code of the Dead Challenge</title>
    <meta name="description" content="Genera calaveritas personalizadas para el Día de Muertos con nuestro generador interactivo">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>🎭 Generador de Calaveritas</h1>
        <p>Crea calaveritas personalizadas para el Día de Muertos</p>
    </header>

    <main>
        <section class="generator-section" aria-labelledby="generator-title">
            <h2 id="generator-title">💀 Crear Nueva Calaverita</h2>
            
            <form id="calaverita-form" class="calaverita-form" novalidate>
                <div class="form-group">
                    <label for="nombre">Nombre de la persona:</label>
                    <input 
                        type="text" 
                        id="nombre" 
                        name="nombre" 
                        required 
                        maxlength="50"
                        placeholder="Ej: Juan, María, Pedro..."
                        aria-describedby="nombre-help"
                    >
                    <small id="nombre-help" class="help-text">Ingresa el nombre de la persona para la calaverita</small>
                </div>

                <div class="form-group">
                    <label for="profesion">Profesión u ocupación:</label>
                    <input 
                        type="text" 
                        id="profesion" 
                        name="profesion" 
                        required 
                        maxlength="50"
                        placeholder="Ej: doctor, maestra, programador..."
                        aria-describedby="profesion-help"
                    >
                    <small id="profesion-help" class="help-text">La profesión u ocupación de la persona</small>
                </div>

                <div class="form-group">
                    <label for="template">Estilo de calaverita:</label>
                    <select 
                        id="template" 
                        name="template"
                        aria-describedby="template-help"
                    >
                        <option value="">🎲 Sorpréndeme (aleatorio)</option>
                    </select>
                    <small id="template-help" class="help-text">Elige un estilo específico o deja aleatorio para sorprenderte</small>
                </div>

                <div class="form-group" id="caracteristica-group">
                    <label for="caracteristica">Característica especial <span id="caracteristica-required" style="display: none;">(requerida)</span><span id="caracteristica-optional">(opcional)</span>:</label>
                    <input 
                        type="text" 
                        id="caracteristica" 
                        name="caracteristica" 
                        maxlength="50"
                        placeholder="Ej: alegre, trabajador, divertido..."
                        aria-describedby="caracteristica-help"
                    >
                    <small id="caracteristica-help" class="help-text">Una característica que describa a la persona</small>
                </div>

                <button type="submit" class="btn-generate" id="btn-generate">
                    ✨ Generar Calaverita
                </button>
            </form>

            <div class="error-message" id="error-message" role="alert" aria-live="polite" style="display: none;">
            </div>
        </section>

        <section class="result-section" id="result-section" aria-labelledby="result-title" style="display: none;">
            <h2 id="result-title">📜 Tu Calaverita</h2>
            <div class="calaverita-result" id="calaverita-result">
                <!-- El resultado se mostrará aquí -->
            </div>
        </section>

        <section class="history-section" aria-labelledby="history-title">
            <div class="history-header">
                <h2 id="history-title">📚 Historial de Calaveritas</h2>
                <div class="history-actions">
                    <button type="button" class="btn-analytics" id="btn-analytics">
                        📊 Analytics MCP
                    </button>
                    <button type="button" class="btn-export" id="btn-export-history">
                        📥 Exportar Historial
                    </button>
                    <button type="button" class="btn-clear" id="btn-clear-history">
                        🗑️ Limpiar Historial
                    </button>
                </div>
            </div>
            
            <div class="search-section">
                <div class="search-group">
                    <label for="search-input">🔍 Buscar en historial:</label>
                    <input 
                        type="text" 
                        id="search-input" 
                        name="search" 
                        placeholder="Buscar por nombre, profesión o contenido..."
                        aria-describedby="search-help"
                    >
                    <button type="button" class="btn-search-clear" id="btn-search-clear" style="display: none;">
                        ❌ Limpiar
                    </button>
                </div>
                <small id="search-help" class="help-text">Busca en nombres, profesiones, características y contenido de las calaveritas</small>
                <div class="search-results-info" id="search-results-info" style="display: none;">
                    <!-- Información de resultados de búsqueda -->
                </div>
            </div>
            
            <div class="history-container" id="history-container">
                <div class="empty-history" id="empty-history">
                    ¡Comienza tu colección de calaveritas! Crea tu primera obra maestra arriba y dale vida a la tradición del Día de Muertos.
                </div>
                <div class="history-list" id="history-list">
                    <!-- El historial se mostrará aquí -->
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>🌺 Code of the Dead Challenge - JSConf MX 2025 🌺</p>
        <p>Celebrando la tradición mexicana del Día de Muertos</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="analytics-dashboard.js"></script>
    <script src="frontend.js"></script>
</body>
</html>