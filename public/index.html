<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ­ Generador de Calaveritas del DÃ­a de Muertos - Code of the Dead Challenge</title>
    <meta name="description" content="Genera calaveritas personalizadas para el DÃ­a de Muertos con nuestro generador interactivo">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>ğŸ­ Generador de Calaveritas</h1>
        <p>Crea calaveritas personalizadas para el DÃ­a de Muertos</p>
    </header>

    <main>
        <section class="generator-section" aria-labelledby="generator-title">
            <h2 id="generator-title">ğŸ’€ Crear Nueva Calaverita</h2>
            
            <form id="calaverita-form" class="calaverita-form" novalidate>
                <div class="form-group">
                    <label for="nombre">Nombre de la persona:</label>
                    <input 
                        type="text" 
                        id="nombre" 
                        name="nombre" 
                        required 
                        maxlength="50"
                        placeholder="Ej: Juan, MarÃ­a, Pedro..."
                        aria-describedby="nombre-help"
                    >
                    <small id="nombre-help" class="help-text">Ingresa el nombre de la persona para la calaverita</small>
                </div>

                <div class="form-group">
                    <label for="profesion">ProfesiÃ³n u ocupaciÃ³n:</label>
                    <input 
                        type="text" 
                        id="profesion" 
                        name="profesion" 
                        required 
                        maxlength="50"
                        placeholder="Ej: doctor, maestra, programador..."
                        aria-describedby="profesion-help"
                    >
                    <small id="profesion-help" class="help-text">La profesiÃ³n u ocupaciÃ³n de la persona</small>
                </div>

                <div class="form-group">
                    <label for="template">Estilo de calaverita:</label>
                    <select 
                        id="template" 
                        name="template"
                        aria-describedby="template-help"
                    >
                        <option value="">ğŸ² SorprÃ©ndeme (aleatorio)</option>
                    </select>
                    <small id="template-help" class="help-text">Elige un estilo especÃ­fico o deja aleatorio para sorprenderte</small>
                </div>

                <div class="form-group" id="caracteristica-group">
                    <label for="caracteristica">CaracterÃ­stica especial <span id="caracteristica-required" style="display: none;">(requerida)</span><span id="caracteristica-optional">(opcional)</span>:</label>
                    <input 
                        type="text" 
                        id="caracteristica" 
                        name="caracteristica" 
                        maxlength="50"
                        placeholder="Ej: alegre, trabajador, divertido..."
                        aria-describedby="caracteristica-help"
                    >
                    <small id="caracteristica-help" class="help-text">Una caracterÃ­stica que describa a la persona</small>
                </div>

                <button type="submit" class="btn-generate" id="btn-generate">
                    âœ¨ Generar Calaverita
                </button>
            </form>

            <div class="error-message" id="error-message" role="alert" aria-live="polite" style="display: none;">
            </div>
        </section>

        <section class="result-section" id="result-section" aria-labelledby="result-title" style="display: none;">
            <h2 id="result-title">ğŸ“œ Tu Calaverita</h2>
            <div class="calaverita-result" id="calaverita-result">
                <!-- El resultado se mostrarÃ¡ aquÃ­ -->
            </div>
        </section>

        <section class="history-section" aria-labelledby="history-title">
            <div class="history-header">
                <h2 id="history-title">ğŸ“š Historial de Calaveritas</h2>
                <div class="history-actions">
                    <button type="button" class="btn-analytics" id="btn-analytics">
                        ğŸ“Š Analytics MCP
                    </button>
                    <button type="button" class="btn-export" id="btn-export-history">
                        ğŸ“¥ Exportar Historial
                    </button>
                    <button type="button" class="btn-clear" id="btn-clear-history">
                        ğŸ—‘ï¸ Limpiar Historial
                    </button>
                </div>
            </div>
            
            <div class="search-section">
                <div class="search-group">
                    <label for="search-input">ğŸ” Buscar en historial:</label>
                    <input 
                        type="text" 
                        id="search-input" 
                        name="search" 
                        placeholder="Buscar por nombre, profesiÃ³n o contenido..."
                        aria-describedby="search-help"
                    >
                    <button type="button" class="btn-search-clear" id="btn-search-clear" style="display: none;">
                        âŒ Limpiar
                    </button>
                </div>
                <small id="search-help" class="help-text">Busca en nombres, profesiones, caracterÃ­sticas y contenido de las calaveritas</small>
                <div class="search-results-info" id="search-results-info" style="display: none;">
                    <!-- InformaciÃ³n de resultados de bÃºsqueda -->
                </div>
            </div>
            
            <div class="history-container" id="history-container">
                <div class="empty-history" id="empty-history">
                    Â¡Comienza tu colecciÃ³n de calaveritas! Crea tu primera obra maestra arriba y dale vida a la tradiciÃ³n del DÃ­a de Muertos.
                </div>
                <div class="history-list" id="history-list">
                    <!-- El historial se mostrarÃ¡ aquÃ­ -->
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>ğŸŒº Code of the Dead Challenge - JSConf MX 2025 ğŸŒº</p>
        <p>Celebrando la tradiciÃ³n mexicana del DÃ­a de Muertos</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="analytics-dashboard.js"></script>
    <script src="frontend.js"></script>
</body>
</html>